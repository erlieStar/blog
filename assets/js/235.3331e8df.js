(window.webpackJsonp=window.webpackJsonp||[]).push([[235],{633:function(e,t,r){"use strict";r.r(t);var a=r(56),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"rocketmq源码解析-如何在idea中调试rocketmq源码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#rocketmq源码解析-如何在idea中调试rocketmq源码"}},[e._v("#")]),e._v(" RocketMQ源码解析：如何在IDEA中调试RocketMQ源码")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://img-blog.csdnimg.cn/d5b82a8921b244e280060f5ba44f6711.jpg?",alt:"在这里插入图片描述"}})]),e._v(" "),r("h2",{attrs:{id:"配置rocketmq运行时环境"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#配置rocketmq运行时环境"}},[e._v("#")]),e._v(" 配置RocketMQ运行时环境")]),e._v(" "),r("p",[e._v("首先从github下载rocketmq源码：https://github.com/apache/rocketmq")]),e._v(" "),r("p",[e._v("接着建一个RocketMQ运行时目录，/Users/peng/software/rocketmq（随意指定哈）。在这个目录下建3个文件夹，conf，logs，store。")]),e._v(" "),r("p",[e._v("接着从源码的distribution/conf文件夹复制broker.conf，logback_namesrv.xml，logback_broker.xml文件到conf目录")]),e._v(" "),r("p",[e._v("把logback_namesrv.xml，logback_broker.xml文件中的${user.home}替换为/Users/peng/software/rocketmq")]),e._v(" "),r("p",[e._v("在broker.conf文件中增加如下配置")]),e._v(" "),r("div",{staticClass:"language-conf extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("# nameserver的地址\nnamesrvAddr = 127.0.0.1:9876\n# 这是存储路径，你设置为你的rocketmq运行目录的store子目录\nstorePathRootDir = /Users/peng/software/rocketmq/store\n# 这是commitLog的存储路径\nstorePathCommitLog = /Users/peng/software/rocketmq/store/commitlog\n# consume queue文件的存储路径\nstorePathConsumeQueue = /Users/peng/software/rocketmq/store/consumequeue\n# 消息索引文件的存储路径\nstorePathIndex = /Users/peng/software/rocketmq/store/index\n# checkpoint文件的存储路径\nstoreCheckpoint = /Users/peng/software/rocketmq/store/checkpoint\n# abort文件的存储路径\nabortFile = /Users/peng/software/rocketmq/abort\n")])])]),r("h2",{attrs:{id:"启动nameserver"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#启动nameserver"}},[e._v("#")]),e._v(" 启动NameServer")]),e._v(" "),r("p",[e._v("点击运行NamesrvStartup类，然后在Environment variables（环境变量）一栏中增加ROCKETMQ_HOME环境变量，启动即可\n"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/39a02d046cdb435f894c6b3cbfed5666.png?",alt:"在这里插入图片描述"}})]),e._v(" "),r("h2",{attrs:{id:"启动broker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#启动broker"}},[e._v("#")]),e._v(" 启动Broker")]),e._v(" "),r("p",[e._v("点击运行BrokerStartup类，然后在Environment variables一栏中增加ROCKETMQ_HOME环境变量，在Program arguments（程序运行时参数）指定配置文件")]),e._v(" "),r("div",{staticClass:"language-conf extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("-c /Users/peng/software/rocketmq/conf/broker.conf\n")])])]),r("p",[e._v("启动即可\n"),r("img",{attrs:{src:"https://img-blog.csdnimg.cn/6362ba72fe4b4f09a10e7fde22594ab7.png?",alt:"在这里插入图片描述"}})]),e._v(" "),r("h2",{attrs:{id:"测试"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[e._v("#")]),e._v(" 测试")]),e._v(" "),r("p",[e._v("在org.apache.rocketmq.example.quickstart.Producer这个类中，增加一行代码指定nameserver的地址，然后就能正常发送消息")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://img-blog.csdnimg.cn/4ba5f9e6aee64ec08eaca742a42581b9.png?",alt:"在这里插入图片描述"}}),e._v("\n在org.apache.rocketmq.example.quickstart.Consumer这个类中，增加一行代码指定nameserver的地址，然后就能正常接收消息")]),e._v(" "),r("p",[r("img",{attrs:{src:"https://img-blog.csdnimg.cn/39310a59e4544f47839536b715aa62c7.png?",alt:"在这里插入图片描述"}})])])}),[],!1,null,null,null);t.default=s.exports}}]);