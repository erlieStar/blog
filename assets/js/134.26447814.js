(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{530:function(t,s,a){"use strict";a.r(s);var e=a(56),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"面试官-如何查看-etc目录下包含abc字符串的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#面试官-如何查看-etc目录下包含abc字符串的文件"}},[t._v("#")]),t._v(" 面试官：如何查看/etc目录下包含abc字符串的文件？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20201011232535900.png?",alt:"在这里插入图片描述"}})]),t._v(" "),a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("其实这种需求在工作中用的还是很多的，例如进行数据库迁移的时候，就得知道哪些项目用了指定的数据库，如果一个一个查看配置文件还是很费时间的。\n我想到的有2种写法")]),t._v(" "),a("p",[t._v("第一种写法")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" /etc -type f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -l "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'abc'")]),t._v("\n")])])]),a("p",[t._v("第二种写法")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -rl abc /etc\n")])])]),a("p",[t._v("find命令还是挺强大的，我打算重开一篇好好分享一下，今天就先分享一下grep egrep的使用")]),t._v(" "),a("h2",{attrs:{id:"用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用法"}},[t._v("#")]),t._v(" 用法")]),t._v(" "),a("p",[t._v("使用一般有如下两种形式")]),t._v(" "),a("p",[a("strong",[t._v("第一种形式")]),t._v("\ngrep [option] [pattern] [file1,file2]")]),t._v(" "),a("p",[t._v("如查找show.txt里面包含content的行")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" content show.txt\n")])])]),a("p",[a("strong",[t._v("第二种形式")]),t._v("\ncommand | grep [option] [pattern]")]),t._v(" "),a("p",[t._v("如查看某个服务信息")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" mongo\n")])])]),a("p",[t._v("如查找show.txt里面包含content的行")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" show.txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" content\n")])])]),a("h2",{attrs:{id:"必须掌握的选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#必须掌握的选项"}},[t._v("#")]),t._v(" 必须掌握的选项")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("选项")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-v")]),t._v(" "),a("td",[t._v("显示不匹配行信息（反向搜索）")])]),t._v(" "),a("tr",[a("td",[t._v("-i")]),t._v(" "),a("td",[t._v("搜索时忽略大小写")])]),t._v(" "),a("tr",[a("td",[t._v("-n")]),t._v(" "),a("td",[t._v("显示行号（文件中的行号）")])]),t._v(" "),a("tr",[a("td",[t._v("-r")]),t._v(" "),a("td",[t._v("递归搜索（搜索文件夹）")])]),t._v(" "),a("tr",[a("td",[t._v("-E")]),t._v(" "),a("td",[t._v("支持扩展正则表达式")])]),t._v(" "),a("tr",[a("td",[t._v("-F")]),t._v(" "),a("td",[t._v("不按正则表达式匹配，按照字符串字面意思匹配")])])])]),t._v(" "),a("p",[t._v("show.txt文件中的内容如下")]),t._v(" "),a("div",{staticClass:"language-txt extra-class"},[a("pre",{pre:!0,attrs:{class:"language-txt"}},[a("code",[t._v("a\nb\nc\nd\npy*\ni love python\n")])])]),a("p",[t._v("-v 选项")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -v a show.txt\n \nb\nc\nd\n*py\ni love python\n")])])]),a("p",[t._v("-n选项")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -n a show.txt \n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(":a\n")])])]),a("p",[t._v("-r选项\n查找/etc/myconfig及其子目录下，打印出包含content字符串所在行的内容")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -r content /etc/myconfig\n")])])]),a("p",[t._v("-F选项")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" py* show.txt \n\npy*\ni love python\n")])])]),a("p",[t._v("py"),a("em",[t._v("被当成正则表达式处理，我就想搜索py")]),t._v("这个内容，就可以用到-F选项")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -F py* show.txt\n\npy*\n")])])]),a("h2",{attrs:{id:"了解的选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#了解的选项"}},[t._v("#")]),t._v(" 了解的选项")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("选项")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-c")]),t._v(" "),a("td",[t._v("只输出匹配行的数量，不显示具体内容")])]),t._v(" "),a("tr",[a("td",[t._v("-w")]),t._v(" "),a("td",[t._v("匹配整词")])]),t._v(" "),a("tr",[a("td",[t._v("-x")]),t._v(" "),a("td",[t._v("匹配整行")])]),t._v(" "),a("tr",[a("td",[t._v("-l")]),t._v(" "),a("td",[t._v("只列出匹配的文件名，不显示具体匹配行内容")])]),t._v(" "),a("tr",[a("td",[t._v("-a")]),t._v(" "),a("td",[t._v("将二进制文件转为文本")])])])]),t._v(" "),a("p",[t._v("show.txt的文件内容如下")]),t._v(" "),a("div",{staticClass:"language-txt extra-class"},[a("pre",{pre:!0,attrs:{class:"language-txt"}},[a("code",[t._v("love \nlovelove\ni love\ni love a\n")])])]),a("p",[t._v("-w选项（lovelove这个词没有显示出来，因为love前后得有空格或者tab才会认为是一个单词）")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -w love show.txt\n\nlove \ni love\ni love a\n")])])]),a("p",[t._v("-x 选项（匹配行，行的内容只能是i love a）")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -x "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"i love a"')]),t._v(" show.txt\ni love a\n")])])]),a("p",[t._v("这些选项可以混着用，例如\n"),a("strong",[t._v("查找/etc/myconfig及其子目录下，打印出包含content字符串所在文件的文件名")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -rl mad81 /etc/myconfig\n")])])]),a("p",[t._v("-r：递归搜索（搜索文件夹）\n-l：只列出匹配的文件名，不显示具体匹配行内容、")]),t._v(" "),a("p",[t._v("当然用find也是可以的，只不过麻烦一点")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("find "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("myconfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" xargs grep "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("l "),a("span",{pre:!0,attrs:{class:"token char"}},[t._v("'abc'")]),t._v(" \n")])])]),a("h2",{attrs:{id:"查看日志常用的选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看日志常用的选项"}},[t._v("#")]),t._v(" 查看日志常用的选项")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("选项")]),t._v(" "),a("th",[t._v("含义")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-C n")]),t._v(" "),a("td",[t._v("显示匹配行及其前后5行")])]),t._v(" "),a("tr",[a("td",[t._v("-B n")]),t._v(" "),a("td",[t._v("显示匹配行及其前5行")])]),t._v(" "),a("tr",[a("td",[t._v("-A n")]),t._v(" "),a("td",[t._v("显示匹配行及其后5行")])])])]),t._v(" "),a("p",[t._v("show.txt内容如下")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n")])])]),a("p",[t._v("查找4及其上下2行")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" show.txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -C "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n")])])]),a("p",[t._v("查找4及其前2行")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -B "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" show.txt \n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n")])])]),a("h2",{attrs:{id:"grep和egrep的区别和联系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep和egrep的区别和联系"}},[t._v("#")]),t._v(" grep和egrep的区别和联系")]),t._v(" "),a("p",[t._v("grep默认不支持扩展正则表达式，只支持基础正则表达式\n使用grep -E 可以支持扩展正则表达式\n使用egrep可以支持扩展正则表达式，与grep -E等价")])])}),[],!1,null,null,null);s.default=n.exports}}]);