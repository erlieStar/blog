(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{475:function(t,a,s){"use strict";s.r(a);var r=s(56),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"elasticsearch-文本分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-文本分析"}},[t._v("#")]),t._v(" ElasticSearch 文本分析")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210607150159624.jpg?",alt:"在这里插入图片描述"}})]),t._v(" "),s("h2",{attrs:{id:"分析器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分析器"}},[t._v("#")]),t._v(" 分析器")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/direct/bbfe209e952b4487b185d00354d768d3.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类别")]),t._v(" "),s("th",[t._v("类别名")]),t._v(" "),s("th",[t._v("介绍")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Standard Analyzer")]),t._v(" "),s("td",[t._v("standard")]),t._v(" "),s("td",[t._v("标准分析器，按照 Unicode 文本分割算法切分单词，删除大多数标点符号并将单词转为小写形式，支持过滤停用词")])]),t._v(" "),s("tr",[s("td",[t._v("Simple Analyzer")]),t._v(" "),s("td",[t._v("simple")]),t._v(" "),s("td",[t._v("简单分析器，在非字母的地方把单词切分开并将单词转为小写形式")])]),t._v(" "),s("tr",[s("td",[t._v("Whitespace Analyzer")]),t._v(" "),s("td",[t._v("whitespace")]),t._v(" "),s("td",[t._v("空格分析器，遇到空格就切分字符，但不改变每个字符的内容")])])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("POST _analyze\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"analyzer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"whitespace"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The quick brown fox."')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("结果为")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/direct/6176123738f64569bd6ddab3306ff9d1.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h2",{attrs:{id:"字符过滤器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#字符过滤器"}},[t._v("#")]),t._v(" 字符过滤器")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类别")]),t._v(" "),s("th",[t._v("类别名")]),t._v(" "),s("th",[t._v("介绍")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("HTML Strip Character Filter")]),t._v(" "),s("td",[t._v("html_strip")]),t._v(" "),s("td",[t._v("去掉文本中的html标签")])]),t._v(" "),s("tr",[s("td",[t._v("Mapping Character Filter")]),t._v(" "),s("td",[t._v("mapping")]),t._v(" "),s("td",[t._v("根据提供的字段映射，把文本中的字符转换为映射的字符")])]),t._v(" "),s("tr",[s("td",[t._v("Pattern Replace Character Filter")]),t._v(" "),s("td",[t._v("pattern_replace")]),t._v(" "),s("td",[t._v("根据指定的正则表达式把匹配的文本转换为指定的字符串")])])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("GET /_analyze\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tokenizer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"keyword"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"char_filter"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"html_strip"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<p>I&apos;m so <b>happy</b>!</p>"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("结果为\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/direct/adfbd468215e46a1aa5c261ac1a16281.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h2",{attrs:{id:"分词器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分词器"}},[t._v("#")]),t._v(" 分词器")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类别")]),t._v(" "),s("th",[t._v("类别名")]),t._v(" "),s("th",[t._v("介绍")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Standard Tokenizer")]),t._v(" "),s("td",[t._v("standard")]),t._v(" "),s("td",[t._v("标准分词器，标准分析器采用的分词器，删除大多数标点符号，把文本切分为独立单词")])]),t._v(" "),s("tr",[s("td",[t._v("Letter Tokenizer")]),t._v(" "),s("td",[t._v("letter")]),t._v(" "),s("td",[t._v("字母分词器，在非字母的地方把单词切分开，非字母字符会被丢弃")])]),t._v(" "),s("tr",[s("td",[t._v("Lowercase Tokenizer")]),t._v(" "),s("td",[t._v("lowercase")]),t._v(" "),s("td",[t._v("小写分词器，在字母分词器的基础上把大写字母转为小写字母，")])]),t._v(" "),s("tr",[s("td",[t._v("Whitespace Tokenizer")]),t._v(" "),s("td",[t._v("whitespace")]),t._v(" "),s("td",[t._v("空格分词器，是空格分析器的组成部分，在空格处把文本切分开并保持文本内容不变")])]),t._v(" "),s("tr",[s("td",[t._v("Keyword tokenizer")]),t._v(" "),s("td",[t._v("keyword")]),t._v(" "),s("td",[t._v("将输入的整个文本当作一个词汇单元，不对文本进行拆分或处理")])])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("POST _analyze\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tokenizer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lowercase"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The 2 QUICK Brown-Foxes"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("结果为\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/direct/bd4559d80dcd4d35a0308623062ed365.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h2",{attrs:{id:"分词过滤器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分词过滤器"}},[t._v("#")]),t._v(" 分词过滤器")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("类别")]),t._v(" "),s("th",[t._v("类别名")]),t._v(" "),s("th",[t._v("介绍")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Stop token filter")]),t._v(" "),s("td",[t._v("stop")]),t._v(" "),s("td",[t._v("用于去除文本中常见但对分析无关紧要的停用词，比如 and that then")])]),t._v(" "),s("tr",[s("td",[t._v("Length token filter")]),t._v(" "),s("td",[t._v("length")]),t._v(" "),s("td",[t._v("过滤掉太短或者太长的词汇")])]),t._v(" "),s("tr",[s("td",[t._v("Stemmer token filter")]),t._v(" "),s("td",[t._v("stemmer")]),t._v(" "),s("td",[t._v("把每个分词转化为对应的原型（例如去掉，复数，时态等）")])])])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[t._v("GET _analyze\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tokenizer"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"standard"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"filter"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stemmer"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"text"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"the foxes jumping quickly"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("结果为")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/direct/b331665895f94a7597ea13935907b157.png",alt:"在这里插入图片描述"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);